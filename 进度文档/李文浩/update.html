<!doctype html>
<!--suppress JSUnresolvedFunction -->
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>Document</title>
    <script type="text/javascript" src="js/jquery-3.1.1.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.form.js"></script>
    <script type="text/javascript">
        function updateMember() {
            //document.myForm.attributes["action"].value  = "XXXXXXXX";
            //document.all("myFormId").setAttribute("action", "欲赋的action的值");
            //$("#myFormId").attr("action", "userinfo.shtml");

//            document.formData.action = "/member/memberId/" + document.getElementById("id").value;
//            $("#formData").ajaxSubmit();
            console.log("uplaod success");
            console.log(document.formData.action);
            $.ajax({
//                url: '/member/memberId/5' + document.getElementById("memberId").value,
                url: '/member/memberId/5',
                type: 'post',
                cache: false,
                data: new FormData($('#formData')[0]),
                processData: false,
                contentType: false
            }).done(function (data) {
                console.log(data);
            }).fail(function (data) {
                console.log(data);
            });
        }

        function updateProduction() {
            var url = "/production/name/55";
            var form = new FormData(document.getElementById("production"));
            console.log(url);

            $.ajax({
                url: url,
                type: 'post',
                data: form,
                processData: false,
                contentType: false,
                success: function (data) {
                    console.log(data);
                    console.log("over..");
                },
                error: function (e) {
                    alert("错误！！");
                }
            });
        }
    </script>
</head>
<body>
<form action="" id="formData" method="post" name="formData" enctype="multipart/form-data">
    <input type="file" name="file"/>
    <input type="text" name="memberId" id="memberId"/>
    <input type="text" name="name"/>
    <input type="text" name="sex"/>
    <input type="text" name="photo"/>
    <input type="text" name="direction"/>
    <input type="text" name="introduction"/>
    <input type="text" name="company"/>
    <input type="hidden" name="_method" value="put">
    <input type="button" value="上传" onclick="updateMember()">
    <!--<input type="button" id="submit" onclick="upload()" value="submit"/>-->
</form>
</br>
</br>
</br>
</br>
</br>
</br>
</br>

<form id="production" method="post" enctype="multipart/form-data">
    <input type="file" name="file"/>
    <input type="text" name="name"/>
    <input type="text" name="introduction"/>
    <input type="text" name="url"/>
    <input type="hidden" name="_method" value="put">
    <input type="button" value="添加项目" onclick="updateProduction()"/>
</form>
</body>
</html>